{"version":3,"sources":["03-css-variables/script.js"],"names":["MAX_VIEW_WIDTH","MIN_VIEW_WIDTH","MAX_RGB_VALUE","MAX_INTERVAL","MIN_VALUE_START_SOUND","INTERVAL_MULTIPLIER","audioStart","Audio","audioLoop","swapColors","bodyStyle","getComputedStyle","document","body","backgroundColor","getPropertyValue","textColor","documentElement","style","setProperty","loopSwap","input","querySelector","timeout","value","setTimeout","playAudio","addEventListener","loop","play","handleSlider","event","overlay","width","target","max","disabled","removeEventListener"],"mappings":";;;;;;;;;AAAA;;AACA;;;;AACA;;;;;;AAEA,IAAMA,iBAAiB,IAAvB;AACA,IAAMC,iBAAiB,EAAvB;AACA,IAAMC,gBAAgB,GAAtB;AACA,IAAMC,eAAe,GAArB;AACA,IAAMC,wBAAwB,GAA9B;AACA,IAAMC,sBAAsBF,eAAeD,aAA3C;;AAEA,IAAMI,aAAa,IAAIC,KAAJ,6BAAnB;AACA,IAAMC,YAAY,IAAID,KAAJ,4BAAlB;;AAEA,IAAME,aAAa,SAAbA,UAAa,GAAM;AACvB,MAAMC,YAAYC,iBAAiBC,SAASC,IAA1B,CAAlB;AACA,MAAMC,kBAAkBJ,UAAUK,gBAAV,CAA2B,mBAA3B,CAAxB;AACA,MAAMC,YAAYN,UAAUK,gBAAV,CAA2B,aAA3B,CAAlB;;AAEAH,WAASK,eAAT,CAAyBC,KAAzB,CAA+BC,WAA/B,CAA2C,mBAA3C,EAAgEH,SAAhE;AACAJ,WAASK,eAAT,CAAyBC,KAAzB,CAA+BC,WAA/B,CAA2C,aAA3C,EAA0DL,eAA1D;AACD,CAPD;;AASA,IAAMM,WAAW,SAAXA,QAAW,GAAM;AACrB,MAAMC,QAAQT,SAASU,aAAT,CAAuB,eAAvB,CAAd;AACA,MAAMC,UAAUlB,uBAAuBH,gBAAgBmB,MAAMG,KAA7C,CAAhB;;AAEA,MAAID,YAAYpB,YAAhB,EAA8B;AAC5BM;AACD;;AAED,SAAOgB,WAAWL,QAAX,EAAqBG,OAArB,CAAP;AACD,CATD;;AAWA,IAAMG,YAAY,SAAZA,SAAY,GAAM;AACtBpB,aAAWqB,gBAAX,CAA4B,OAA5B,EAAqC,YAAM;AACzCnB,cAAUoB,IAAV,GAAiB,IAAjB;AACApB,cAAUqB,IAAV;AACD,GAHD;;AAKAvB,aAAWuB,IAAX;AACD,CAPD;;AASA,IAAMC,eAAe,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC9B,MAAMV,QAAQT,SAASU,aAAT,CAAuB,eAAvB,CAAd;AACA,MAAMU,UAAUpB,SAASU,aAAT,CAAuB,kBAAvB,CAAhB;AACA,MAAIW,cAAJ;;AAEA,MAAIF,MAAMG,MAAN,CAAaV,KAAb,GAAqBpB,qBAAzB,EAAgD;AAC9C6B,YAAQhC,iBAAiBD,iBAAiB+B,MAAMG,MAAN,CAAaV,KAA9B,GAAsCtB,aAA/D;AACD,GAFD,MAEO;AACL+B,YAAQ,GAAR;AACAZ,UAAMG,KAAN,GAAcH,MAAMc,GAApB;AACAd,UAAMe,QAAN,GAAiB,IAAjB;AACAf,UAAMH,KAAN,CAAYC,WAAZ,CAAwB,YAAxB,EAAsC,QAAtC;AACAE,UAAMgB,mBAAN,CAA0B,OAA1B,EAAmCP,YAAnC;AACAJ;AACD;;AAEDM,UAAQd,KAAR,CAAcC,WAAd,CAA0B,MAA1B,EAAqCc,KAArC;AACD,CAjBD;;AAmBAb;AACA,IAAMC,QAAQT,SAASU,aAAT,CAAuB,eAAvB,CAAd;AACAD,MAAMM,gBAAN,CAAuB,OAAvB,EAAgCG,YAAhC","file":"script.98939c0b.map","sourcesContent":["import './style.css';\nimport pathAudioStart from './sounds/omewa-no-speak-start.wav';\nimport pathAudioLoop from './sounds/omewa-no-speak-loop.wav';\n\nconst MAX_VIEW_WIDTH = 66.5;\nconst MIN_VIEW_WIDTH = 17;\nconst MAX_RGB_VALUE = 255;\nconst MAX_INTERVAL = 300;\nconst MIN_VALUE_START_SOUND = 140;\nconst INTERVAL_MULTIPLIER = MAX_INTERVAL / MAX_RGB_VALUE;\n\nconst audioStart = new Audio(pathAudioStart);\nconst audioLoop = new Audio(pathAudioLoop);\n\nconst swapColors = () => {\n  const bodyStyle = getComputedStyle(document.body);\n  const backgroundColor = bodyStyle.getPropertyValue('--backgroundColor');\n  const textColor = bodyStyle.getPropertyValue('--textColor');\n\n  document.documentElement.style.setProperty('--backgroundColor', textColor);\n  document.documentElement.style.setProperty('--textColor', backgroundColor);\n}\n\nconst loopSwap = () => {\n  const input = document.querySelector('.slider input');\n  const timeout = INTERVAL_MULTIPLIER * (MAX_RGB_VALUE - input.value);\n\n  if (timeout !== MAX_INTERVAL) {\n    swapColors();\n  }\n\n  return setTimeout(loopSwap, timeout);\n}\n\nconst playAudio = () => {\n  audioStart.addEventListener('ended', () => {\n    audioLoop.loop = true;\n    audioLoop.play();\n  });\n\n  audioStart.play();\n}\n\nconst handleSlider = (event) => {\n  const input = document.querySelector('.slider input');\n  const overlay = document.querySelector('.slider .overlay');\n  let width;\n  \n  if (event.target.value < MIN_VALUE_START_SOUND) {\n    width = MIN_VIEW_WIDTH + MAX_VIEW_WIDTH * event.target.value / MAX_RGB_VALUE;\n  } else {\n    width = 100;\n    input.value = input.max;\n    input.disabled = true;\n    input.style.setProperty('visibility', 'hidden');\n    input.removeEventListener('input', handleSlider);\n    playAudio();\n  }\n\n  overlay.style.setProperty('left', `${width}vw`);\n}\n\nloopSwap();\nconst input = document.querySelector('.slider input');\ninput.addEventListener('input', handleSlider);\n"]}